{"version":3,"sources":["script.js"],"names":["window","document","undefined","_progressStart","gsap","timeline","paused","repeat","repeatDelay","defaults","duration","ease","_progressComplete","initialize","init","querySelectorAll","forEach","anchor","addEventListener","handleSecondary","handleTertiary","getElementById","handleIframe","createProgressbar","e","test","getAttribute","preventDefault","setProgressStart","setActiveClass","parentElement","setIframeSrc","setSidebarMerge","setHashString","timeScale","tweenFromTo","onComplete","body","contentWindow","width","scrollWidth","height","scrollHeight","div","divStyle","setStyle","span","createElement","spanStyle","fromTo","left","appendChild","matches","main","sidebar2","getComputedStyle","getPropertyValue","hasAttribute","style","setProperty","hashElement","querySelector","hash","slice","call","children","sibling","dispatchEvent","Event","play","src","element","classList","remove","add","split","property","trim","prop","map","currentValue"],"mappings":"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","file":"all.js","sourcesContent":["'use strict';\n\n(function (window, document, undefined) {\n  /* global gsap */\n\n  var _progressStart = gsap.timeline({\n    paused: true,\n    repeat: -1,\n    repeatDelay: 1,\n    defaults: {\n      duration: 1,\n      ease: 'power2.inOut',\n    },\n  });\n  var _progressComplete = gsap.timeline({\n    paused: true,\n    defaults: {\n      duration: 1,\n      ease: 'power2.inOut',\n    },\n  });\n\n  function initialize() {\n    init();\n  }\n\n  function init() {\n    document.querySelectorAll('#secondary a').forEach((anchor) => {\n      anchor.addEventListener('click', handleSecondary);\n    });\n    document.querySelectorAll('#tertiary a').forEach((anchor) => {\n      anchor.addEventListener('click', handleTertiary);\n    });\n    document.getElementById('iframe').addEventListener('load', handleIframe);\n\n    createProgressbar();\n  }\n\n  /**\n   * Event Listeners\n   */\n\n  function handleSecondary(e) {\n    if (/^((https?|ftp):)?\\/\\//.test(this.getAttribute('href'))) {\n      return;\n    }\n\n    e.preventDefault();\n\n    setProgressStart();\n    setActiveClass(this.parentElement);\n    setIframeSrc(this.getAttribute('href'));\n    setSidebarMerge(this);\n\n    if (/^#/.test(this.getAttribute('href'))) {\n      setHashString(this);\n    }\n\n    return false;\n  }\n\n  function handleTertiary(e) {\n    if (/^((https?|ftp):)?\\/\\//.test(this.getAttribute('href'))) {\n      return;\n    }\n\n    e.preventDefault();\n\n    setProgressStart();\n    setActiveClass(this.parentElement);\n    setIframeSrc(this.getAttribute('href'));\n\n    return false;\n  }\n\n  function handleIframe() {\n    _progressStart.timeScale(2).tweenFromTo(0, 1, {\n      onComplete: () => {\n        _progressComplete.timeScale(2).tweenFromTo(0, 1);\n      },\n    });\n\n    const body = this.contentWindow.document.body;\n    this.width = body.scrollWidth;\n    this.height = body.scrollHeight;\n  }\n\n  /**\n   * Progressbar\n   */\n\n  function createProgressbar() {\n    const div = document.getElementById('progress-bar');\n    const divStyle =\n      '\\\n      overflow: hidden;\\\n      position: relative;\\\n      width: 100%;\\\n      height: 3px;\\\n      background-color: transparent;\\\n    ';\n    setStyle(div, divStyle);\n\n    const span = document.createElement('span');\n    const spanStyle =\n      '\\\n      display: block;\\\n      position: absolute;\\\n      top: 0;\\\n      left: 0;\\\n      width: 0;\\\n      height: 100%;\\\n      background-color: #ba2d0b;\\\n      background-image: linear-gradient(319deg, #ba2d0b 0%, #fe7f2d 37%, #ffbf46 100%);\\\n    ';\n    setStyle(span, spanStyle);\n\n    _progressStart.fromTo(span, { left: 0, width: 0 }, { left: 0, width: '100%' });\n    _progressComplete.fromTo(span, { left: 0, width: '100%' }, { left: '200%', width: 0 });\n\n    div.appendChild(span);\n\n    return div;\n  }\n\n  /**\n   * Setter\n   */\n\n  function setSidebarMerge(anchor) {\n    if (!document.body.matches('.has-sidebar--2')) {\n      return;\n    }\n    const main = document.getElementById('primary');\n    const sidebar2 = document.getElementById('tertiary');\n    const width = window.getComputedStyle(sidebar2).getPropertyValue('width');\n\n    if (anchor.hasAttribute('data-sidebar-merge')) {\n      main.style.setProperty('width', 'calc(100% - ' + width + ')');\n      sidebar2.style.setProperty('display', 'none');\n    } else {\n      main.style.setProperty('width', null);\n      sidebar2.style.setProperty('display', null);\n    }\n  }\n\n  function setHashString(anchor) {\n    const hashElement = document.querySelector(anchor.hash);\n\n    [].slice.call(hashElement.parentElement.children).forEach((sibling) => {\n      sibling !== hashElement && sibling.style.setProperty('display', 'none');\n    });\n\n    hashElement.style.setProperty('display', 'block');\n    hashElement.querySelector('a').dispatchEvent(new Event('click'));\n  }\n\n  function setProgressStart() {\n    _progressStart.timeScale(2).play();\n  }\n\n  function setIframeSrc(src) {\n    document.getElementById('iframe').src = src;\n  }\n\n  /**\n   * Helper\n   */\n\n  function setActiveClass(element) {\n    [].slice.call(element.parentElement.children).forEach((sibling) => {\n      sibling !== element && sibling.classList.remove('active');\n    });\n    element.classList.add('active');\n  }\n\n  function setStyle(element, style) {\n    typeof style === 'string' &&\n      style &&\n      style.split(';').forEach((property) => {\n        property = property.trim();\n        if (property) {\n          const prop = property.split(':').map((currentValue) => {\n            return currentValue.trim();\n          });\n          element.style.setProperty(prop[0], prop[1]);\n        }\n      });\n  }\n\n  initialize();\n})(window, document);\n"]}