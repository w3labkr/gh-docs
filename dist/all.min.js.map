{"version":3,"sources":["script.js"],"names":["window","document","div","span","_progressStart","gsap","timeline","paused","repeat","repeatDelay","defaults","duration","ease","_progressComplete","handleSecondary","e","main","sidebar2","width","hashElement","test","this","getAttribute","preventDefault","setProgressStart","setActiveClass","parentElement","setIframeSrc","anchor","body","matches","getElementById","getComputedStyle","getPropertyValue","hasAttribute","style","setProperty","querySelector","hash","slice","call","children","forEach","sibling","dispatchEvent","Event","handleTertiary","handleIframe","timeScale","tweenFromTo","onComplete","contentWindow","scrollWidth","height","scrollHeight","play","src","element","classList","remove","add","setStyle","split","property","trim","prop","map","currentValue","querySelectorAll","addEventListener","createElement","fromTo","left","appendChild"],"mappings":"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","file":"all.min.js","sourcesContent":["'use strict';\n\n(function (window, document, undefined) {\n  /* global gsap */\n\n  var _progressStart = gsap.timeline({\n    paused: true,\n    repeat: -1,\n    repeatDelay: 1,\n    defaults: {\n      duration: 1,\n      ease: 'power2.inOut',\n    },\n  });\n  var _progressComplete = gsap.timeline({\n    paused: true,\n    defaults: {\n      duration: 1,\n      ease: 'power2.inOut',\n    },\n  });\n\n  function initialize() {\n    init();\n  }\n\n  function init() {\n    document.querySelectorAll('#secondary a').forEach((anchor) => {\n      anchor.addEventListener('click', handleSecondary);\n    });\n    document.querySelectorAll('#tertiary a').forEach((anchor) => {\n      anchor.addEventListener('click', handleTertiary);\n    });\n    document.getElementById('iframe').addEventListener('load', handleIframe);\n\n    createProgressbar();\n  }\n\n  /**\n   * Event Listeners\n   */\n\n  function handleSecondary(e) {\n    if (/^((https?|ftp):)?\\/\\//.test(this.getAttribute('href'))) {\n      return;\n    }\n\n    e.preventDefault();\n\n    setProgressStart();\n    setActiveClass(this.parentElement);\n    setIframeSrc(this.getAttribute('href'));\n    setSidebarMerge(this);\n\n    if (/^#/.test(this.getAttribute('href'))) {\n      setHashString(this);\n    }\n\n    return false;\n  }\n\n  function handleTertiary(e) {\n    if (/^((https?|ftp):)?\\/\\//.test(this.getAttribute('href'))) {\n      return;\n    }\n\n    e.preventDefault();\n\n    setProgressStart();\n    setActiveClass(this.parentElement);\n    setIframeSrc(this.getAttribute('href'));\n\n    return false;\n  }\n\n  function handleIframe() {\n    _progressStart.timeScale(2).tweenFromTo(0, 1, {\n      onComplete: () => {\n        _progressComplete.timeScale(2).tweenFromTo(0, 1);\n      },\n    });\n\n    const body = this.contentWindow.document.body;\n    this.width = body.scrollWidth;\n    this.height = body.scrollHeight;\n  }\n\n  /**\n   * Progressbar\n   */\n\n  function createProgressbar() {\n    const div = document.getElementById('progress-bar');\n    const divStyle =\n      '\\\n      overflow: hidden;\\\n      position: relative;\\\n      width: 100%;\\\n      height: 3px;\\\n      background-color: transparent;\\\n    ';\n    setStyle(div, divStyle);\n\n    const span = document.createElement('span');\n    const spanStyle =\n      '\\\n      display: block;\\\n      position: absolute;\\\n      top: 0;\\\n      left: 0;\\\n      width: 0;\\\n      height: 100%;\\\n      background-color: #ba2d0b;\\\n      background-image: linear-gradient(319deg, #ba2d0b 0%, #fe7f2d 37%, #ffbf46 100%);\\\n    ';\n    setStyle(span, spanStyle);\n\n    _progressStart.fromTo(span, { left: 0, width: 0 }, { left: 0, width: '100%' });\n    _progressComplete.fromTo(span, { left: 0, width: '100%' }, { left: '200%', width: 0 });\n\n    div.appendChild(span);\n\n    return div;\n  }\n\n  /**\n   * Setter\n   */\n\n  function setSidebarMerge(anchor) {\n    if (!document.body.matches('.has-sidebar--2')) {\n      return;\n    }\n    const main = document.getElementById('primary');\n    const sidebar2 = document.getElementById('tertiary');\n    const width = window.getComputedStyle(sidebar2).getPropertyValue('width');\n\n    if (anchor.hasAttribute('data-sidebar-merge')) {\n      main.style.setProperty('width', 'calc(100% - ' + width + ')');\n      sidebar2.style.setProperty('display', 'none');\n    } else {\n      main.style.setProperty('width', null);\n      sidebar2.style.setProperty('display', null);\n    }\n  }\n\n  function setHashString(anchor) {\n    const hashElement = document.querySelector(anchor.hash);\n\n    [].slice.call(hashElement.parentElement.children).forEach((sibling) => {\n      sibling !== hashElement && sibling.style.setProperty('display', 'none');\n    });\n\n    hashElement.style.setProperty('display', 'block');\n    hashElement.querySelector('a').dispatchEvent(new Event('click'));\n  }\n\n  function setProgressStart() {\n    _progressStart.timeScale(2).play();\n  }\n\n  function setIframeSrc(src) {\n    document.getElementById('iframe').src = src;\n  }\n\n  /**\n   * Helper\n   */\n\n  function setActiveClass(element) {\n    [].slice.call(element.parentElement.children).forEach((sibling) => {\n      sibling !== element && sibling.classList.remove('active');\n    });\n    element.classList.add('active');\n  }\n\n  function setStyle(element, style) {\n    typeof style === 'string' &&\n      style &&\n      style.split(';').forEach((property) => {\n        property = property.trim();\n        if (property) {\n          const prop = property.split(':').map((currentValue) => {\n            return currentValue.trim();\n          });\n          element.style.setProperty(prop[0], prop[1]);\n        }\n      });\n  }\n\n  initialize();\n})(window, document);\n"]}